(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-myCollect"],{"0884":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-5a245e54]{background-color:#11161c;padding:%?0?% 0 0;box-sizing:border-box}body.?%PAGE?%[data-v-5a245e54]{background-color:#11161c}.mycolPage[data-v-5a245e54]{width:100%;padding:%?20?% 0 %?50?%;box-sizing:border-box;min-height:calc(100vh - %?120?%);background-size:contain}.infoContainer___4GMGW[data-v-5a245e54]{border:%?2?% solid hsla(0,0%,100%,.1);border-radius:%?16?%;margin:%?60?% %?20?% %?60?%}.infoContainer___4GMGW .infoTitle___2MhFo[data-v-5a245e54]{padding:%?16?% %?48?%;box-sizing:border-box;background:hsla(0,0%,100%,.04)}.infoContainer___4GMGW .infoTitle___2MhFo span[data-v-5a245e54]{background:linear-gradient(90.04deg,rgba(126,70,242,.65) .04%,rgba(0,230,161,.65) 99.97%),#fff;-webkit-background-clip:text;color:transparent;font-size:%?40?%;line-height:%?60?%;font-weight:500}.infoContainer___4GMGW .infoCont___3NTE6[data-v-5a245e54]{font-weight:500;font-size:%?28?%;line-height:%?40?%;padding:%?32?% %?48?% %?48?%;box-sizing:border-box;color:#fff;background:hsla(0,0%,100%,.04);border-radius:0 0 %?16?% %?16?%}.infoContainer___4GMGW .infoCont___3NTE6 .type___3BwiA[data-v-5a245e54]{padding:0 %?12?%;font-weight:400;font-size:%?30?%;line-height:%?44?%;border-radius:%?4?%;height:%?44?%;background:radial-gradient(72.76% 105.12% at 54.85% 4.64%,#fd5f52 0,#cf3729 100%)}.infoContainer___4GMGW .infoCont___3NTE6 .item[data-v-5a245e54]{padding:%?20?% 0}.main1[data-v-5a245e54]{border-radius:%?10?%;height:%?90?%;border:%?2?% solid rgba(83,83,83,.5019607843137255);margin:0 auto;margin-top:%?30?%}.btnWrap[data-v-5a245e54] uni-button{height:%?60?%!important;padding:0 %?30?%!important;font-size:%?22?%}.btnWrap .btnBg[data-v-5a245e54]{background:linear-gradient(90.2deg,#a072ff .17%,#00e6a1 101.35%);padding:%?2?%;border-radius:%?10?%;box-sizing:border-box;margin-left:%?16?%}.btnWrap .transferBtn[data-v-5a245e54],\n.btnWrap .saleBtn[data-v-5a245e54]{background:#181a27;color:#fff}[data-v-5a245e54] .uni-input-input{color:#7c5c5c}",""]),t.exports=e},"330c":function(t,e,i){var a=i("0884");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("53f8b929",a,!0,{sourceMap:!1,shadowMode:!1})},"4ce3":function(t,e,i){var a=i("705e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("72324f73",a,!0,{sourceMap:!1,shadowMode:!1})},"705e":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 颜色变量 */\n/* 边框border */.u-empty[data-v-78ae7d22]{display:flex;flex-direction:row;flex-direction:column;justify-content:center;align-items:center;height:100%}.u-image[data-v-78ae7d22]{margin-bottom:%?20?%}.u-slot-wrap[data-v-78ae7d22]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}',""]),t.exports=e},"751b":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var a={name:"u-empty",props:{src:{type:String,default:""},text:{type:String,default:""},color:{type:String,default:"#c0c4cc"},iconColor:{type:String,default:"#c0c4cc"},iconSize:{type:[String,Number],default:120},fontSize:{type:[String,Number],default:26},mode:{type:String,default:"data"},imgWidth:{type:[String,Number],default:120},imgHeight:{type:[String,Number],default:"auto"},show:{type:Boolean,default:!0},marginTop:{type:[String,Number],default:0},iconStyle:{type:Object,default:function(){return{}}}},data:function(){return{icons:{car:"购物车为空",page:"页面不存在",search:"没有搜索结果",address:"没有收货地址",wifi:"没有WiFi",order:"订单为空",coupon:"没有优惠券",favor:"暂无收藏",permission:"无权限",history:"无历史记录",news:"无新闻列表",message:"消息列表为空",list:"列表为空",data:"数据为空"}}}};e.default=a},"957e":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={uIcon:i("ccd4").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"u-empty",style:{marginTop:t.marginTop+"rpx"}},[i("u-icon",{attrs:{name:t.src?t.src:"empty-"+t.mode,"custom-style":t.iconStyle,label:t.text?t.text:t.icons[t.mode],"label-pos":"bottom","label-color":t.color,"label-size":t.fontSize,size:t.iconSize,color:t.iconColor,"margin-top":"14"}}),i("v-uni-view",{staticClass:"u-slot-wrap"},[t._t("bottom")],2)],1):t._e()},s=[]},"9e77":function(t,e,i){"use strict";i.r(e);var a=i("ff51"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},a153:function(t,e,i){"use strict";i.r(e);var a=i("f729"),n=i("9e77");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("a2ef");var o=i("f0c5"),r=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"5a245e54",null,!1,a["a"],void 0);e["default"]=r.exports},a2ef:function(t,e,i){"use strict";var a=i("330c"),n=i.n(a);n.a},ba58:function(t,e,i){"use strict";var a=i("4ce3"),n=i.n(a);n.a},bb25:function(t,e,i){"use strict";i.r(e);var a=i("957e"),n=i("d54f");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("ba58");var o=i("f0c5"),r=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"78ae7d22",null,!1,a["a"],void 0);e["default"]=r.exports},d54f:function(t,e,i){"use strict";i.r(e);var a=i("751b"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},f729:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={uTabs:i("87ed").default,uButton:i("e418").default,uImage:i("c889").default,uEmpty:i("bb25").default,uPopup:i("b144").default,uField:i("761d").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"mycolPage"},[i("u-tabs",{attrs:{"font-size":"26",height:"50","active-color":"#fff","bar-width":"70","bar-height":"2","bar-style":{background:"linear-gradient(90deg,#7e46f2,#00e6a1)"},"inactive-color":"hsla(0,0%,100%,.5)","bg-color":"transparent",list:t.tabs,"is-scroll":!0,current:t.current},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}}),t._l(t.list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"infoContainer___4GMGW"},[i("v-uni-view",{staticClass:"t-between infoTitle___2MhFo"},[i("span",[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"flex btnWrap",staticStyle:{float:"right"}},[1==e.status&&1==t.is_trade?i("v-uni-view",{staticClass:"btnBg"},[i("u-button",{staticClass:"saleBtn",attrs:{round:!0},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.toSale(e)}}},[t._v(t._s(t.$t("my.myCollect.btn[1]")))])],1):t._e(),2==e.status?i("v-uni-view",{staticClass:"btnBg"},[i("u-button",{staticClass:"saleBtn",attrs:{round:!0},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.upCollect(e)}}},[t._v(t._s(t.$t("my.myCollect.btn[2]")))])],1):t._e()],1)],1),i("v-uni-view",{staticClass:"t-between infoCont___3NTE6"},[i("u-image",{staticClass:" mr-20 radius-20",attrs:{src:e.image,height:"100rpx",width:"100rpx","border-radius":"15",mode:"aspectFill"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetails(e)}}}),i("v-uni-view",{staticStyle:{width:"72%"}},[i("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetails(e)}}},[i("v-uni-view",{staticClass:"flex flex-between "},[i("v-uni-view",{},[i("v-uni-view",{staticClass:"size-30"},[t._v("U："+t._s(e.price))]),i("v-uni-view",{staticClass:"type___3BwiA"},[t._v(t._s(e.goods_category_name))])],1),i("v-uni-view",{staticClass:"size-30"},[7==e.status?i("v-uni-text",[t._v(t._s(t.$t("my.myCollect.status[0]")))]):t._e(),1==e.status?i("v-uni-text",[t._v(t._s(t.$t("my.myCollect.status[1]")))]):t._e(),2==e.status?i("v-uni-text",[t._v(t._s(t.$t("my.myCollect.status[2]")))]):t._e(),3==e.status?i("v-uni-text",[t._v(t._s(t.$t("my.myCollect.status[3]")))]):t._e(),4==e.status?i("v-uni-text",[t._v(t._s(t.$t("my.myCollect.status[4]")))]):t._e(),5==e.status?i("v-uni-text",[t._v(t._s(t.$t("my.myCollect.status[5]")))]):t._e(),6==e.status?i("v-uni-text",[t._v(t._s(t.$t("my.myCollect.status[6]")))]):t._e(),0==e.is_chin?i("v-uni-view",[t._v(t._s(t.$t("my.myCollect.schin")))]):t._e()],1)],1)],1)],1)],1)],1)})),0==t.list.length?i("u-empty",{attrs:{text:"Empty",mode:"data","margin-top":"100"}}):t._e(),i("u-popup",{attrs:{mode:"center","border-radius":"20"},model:{value:t.transferShow,callback:function(e){t.transferShow=e},expression:"transferShow"}},[i("v-uni-view",{staticClass:"plr-30 ptb-30",staticStyle:{"background-color":"#fff"}},[i("v-uni-view",{staticClass:"text-center bold size-32 bold",staticStyle:{color:"#000"}},[t._v(t._s(t.$t("my.myCollect.Subgift")))]),i("v-uni-view",{staticClass:"main1 t-center-column"},[i("u-field",{attrs:{"border-bottom":!1,"label-width":"0",placeholder:"Recipient's mobile number","placeholder-style":"color:#999"},model:{value:t.transferPhone,callback:function(e){t.transferPhone=e},expression:"transferPhone"}})],1),i("u-button",{attrs:{size:"default",plain:!0,ripple:!0,"throttle-time":"300","custom-style":{color:"#fff","margin-top":"60rpx",width:"50%",background:"linear-gradient(90deg,#7e46f2,#00e6a1)","font-weight":"700"}},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitTransfer.apply(void 0,arguments)}}},[t._v("Confirm")])],1)],1),i("u-popup",{attrs:{width:"90%",mode:"center","border-radius":"20"},model:{value:t.saleShow,callback:function(e){t.saleShow=e},expression:"saleShow"}},[i("v-uni-view",{staticClass:"plr-30 ptb-30"},[i("v-uni-view",{staticClass:"text-center bold size-32 bold",staticStyle:{color:"#000"}},[t._v(t._s(t.$t("my.myCollect.sale")))]),i("v-uni-view",{staticClass:"main1 t-center-column"},[i("u-field",{attrs:{"border-bottom":!1,"label-width":"0",placeholder:"Enter the price","placeholder-style":"color:#999",type:"number",disabled:!0},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.getShowInput.apply(void 0,arguments)}},model:{value:t.salePrice,callback:function(e){t.salePrice=e},expression:"salePrice"}})],1),i("v-uni-view",[i("v-uni-view",{staticClass:"flex flex-between mt-20 size-22 gray-1"},[i("v-uni-view",{},[t._v(t._s(t.$t("my.myCollect.saleCard[0]"))+"（"+t._s(t.saleConfig.terrace_rate)+"%）：")]),i("v-uni-view",{},[t._v("-U"+t._s(t.terracePrice.toFixed(2)))])],1),i("v-uni-view",{staticClass:"flex flex-between mt-20 size-22 gray-1 "},[i("v-uni-view",{},[t._v(t._s(t.$t("my.myCollect.saleCard[1]"))+"（"+t._s(t.saleConfig.author_rate)+"%）：")]),i("v-uni-view",{},[t._v("-U"+t._s(t.authorPrice.toFixed(2)))])],1),i("v-uni-view",{staticClass:"flex flex-between mt-20 size-22 gray-1 "},[i("v-uni-view",{},[t._v(t._s(t.$t("my.myCollect.saleCard[2]"))+"（"+t._s(t.saleConfig.pay_rate)+"%）：")]),i("v-uni-view",{},[t._v("-U"+t._s(t.payPrice.toFixed(2)))])],1),i("v-uni-view",{staticClass:"flex flex-between mt-20 size-22 gray-1 "},[i("v-uni-view",{},[t._v(t._s(t.$t("my.myCollect.saleCard[3]"))+"：")]),i("v-uni-view",{},[t._v("U"+t._s(t.realPrice.toFixed(2)))])],1)],1),i("u-button",{attrs:{size:"default",plain:!0,ripple:!0,"throttle-time":"300","custom-style":{color:"#fff","margin-top":"60rpx",width:"50%",background:"linear-gradient(90deg,#7e46f2,#00e6a1)","font-weight":"700"}},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitSale.apply(void 0,arguments)}}},[t._v(t._s(t.$t("my.myCollect.publish")))])],1)],1),i("u-popup",{attrs:{width:"90%",mode:"center","border-radius":"20"},model:{value:t.changeShow,callback:function(e){t.changeShow=e},expression:"changeShow"}},[i("v-uni-view",{staticClass:"plr-30 ptb-30"},[i("v-uni-view",{staticClass:"text-center bold size-32 bold"},[t._v("改价详情")]),i("u-field",{attrs:{disabled:"true",label:"出售价格(U)","label-width":"180",placeholder:"请输入价格",type:"number"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.getShowInput.apply(void 0,arguments)}},model:{value:t.afterPrice,callback:function(e){t.afterPrice=e},expression:"afterPrice"}}),i("v-uni-view",{staticClass:"flex flex-between mt-20 size-22 gray-1 pl-30"},[i("v-uni-view",{},[t._v("平台服务费"+t._s(t.saleConfig.terrace_rate)+"%：")]),i("v-uni-view",{},[t._v("-U"+t._s(t.terracePrice.toFixed(2)))])],1),i("v-uni-view",{staticClass:"flex flex-between mt-20 size-22 gray-1 pl-30"},[i("v-uni-view",{},[t._v("作品版税"+t._s(t.saleConfig.author_rate)+"%：")]),i("v-uni-view",{},[t._v("-U"+t._s(t.authorPrice.toFixed(2)))])],1),i("v-uni-view",{staticClass:"flex flex-between mt-20 size-22 gray-1 pl-30"},[i("v-uni-view",{},[t._v("支付通道使用费"+t._s(t.saleConfig.pay_rate)+"%：")]),i("v-uni-view",{},[t._v("-U"+t._s(t.payPrice.toFixed(2)))])],1),i("v-uni-view",{staticClass:"flex flex-between mt-20 size-22 gray-1 pl-30"},[i("v-uni-view",{},[t._v("商品出售所得：")]),i("v-uni-view",{},[t._v("U"+t._s(t.realPrice.toFixed(2)))])],1),i("u-button",{staticClass:"mt-30",staticStyle:{width:"590rpx"},attrs:{"hover-class":"none",type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitChange.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],2)},s=[]},ff51:function(t,e,i){"use strict";(function(t){i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var n=a(i("6d95")),s={components:{empty:n.default},data:function(){return{afterPrice:"",changeId:"",changeShow:!1,status:0,saleShow:!1,salePrice:"",transferId:"",transferPhone:"",transferShow:!1,tabs:this.$t("my.myCollect.tabs"),current:0,page:1,pagesize:10,loadStatus:"loadmore",list:[],is_trade:0,saleConfig:{pay_premium:0,pay_rate:0,terrace_rate:0,author_rate:0},terracePrice:0,authorPrice:0,payPrice:0,realPrice:0}},onLoad:function(t){t.current&&(this.current=t.current,this.status=t.status)},onShow:function(){var t=this;this.$http("api/login/helpContent").then((function(e){t.is_trade=e.is_trade})),this.$http("api/index/fee").then((function(e){t.saleConfig=e})),this.init()},methods:{getShowInput:function(t){var e=this.saleConfig;this.terracePrice=t*e.terrace_rate/100,this.authorPrice=t*e.author_rate/100,this.payPrice=t*e.pay_rate/100,this.realPrice=t-this.terracePrice-this.authorPrice-this.payPrice},changePrice:function(t){this.changeShow=!0,this.changeId=t.id,this.afterPrice=t.price,this.getShowInput(this.afterPrice)},submitChange:function(){var t=this;""!=this.afterPrice?this.$http("api/orders/goodsUpdatePrice",{id:this.changeId,price:this.afterPrice},"POST").then((function(e){uni.showToast({title:"改价成功!",icon:"none"}),t.changeShow=!1,t.init()})):uni.showToast({title:"请输入价格!",icon:"none"})},goDetails:function(e){return t("log",e," at pages/my/myCollect.vue:287"),e.status>2?uni.navigateTo({url:"/pages/pay/collectPay?order_id="+e.order_id+"&type=1"}):uni.navigateTo({url:"./collectDetails?id="+e.id})},toSale:function(t){this.saleId=t.id,this.saleShow=!0,this.salePrice=Number(t.price)*Number(.01*this.saleConfig.pay_premium),this.salePrice=(Number(this.salePrice)+Number(t.price)).toFixed(2),this.getShowInput(this.salePrice)},submitSale:function(){var t=this;""!=this.salePrice?this.$http("api/orders/goodsSale",{id:this.saleId,price:this.salePrice},"POST").then((function(e){uni.showToast({title:"出售成功!",icon:"none"}),t.saleShow=!1,t.current=2,t.status=2,t.init()})):uni.showToast({title:"请输入价格!",icon:"none"})},upCollect:function(t){var e=this,i=1==t.is_show?"下架?":"上架?";uni.showModal({title:"提示",content:"将此藏品"+i,confirmColor:"#EFAA1C",success:function(i){i.confirm?e.$http("api/orders/goodsUpdateShow",{id:t.id,is_show:1==t.is_show?0:1},"POST").then((function(t){uni.showToast({title:"操作成功!",icon:"none"}),e.current=0,e.status=0,e.init()})):i.cancel&&uni.showToast({title:"取消操作!",icon:"none"})}})},toTransfer:function(t){this.transferShow=!0,this.transferPhone="",this.transferId=t},submitTransfer:function(){var t=this;""!=this.transferPhone?this.$http("api/orders/goodsTransfer",{id:this.transferId,phone:this.transferPhone},"POST").then((function(e){uni.showToast({title:"转赠成功!",icon:"none"}),t.transferShow=!1,t.current=5,t.status=5,t.init()})):uni.showToast({title:"请输入受赠人手机号!",icon:"none"})},init:function(){var t=this;this.list=[],this.$http("api/orders/usersGoodsList",{status:this.status}).then((function(e){t.list=e}))},change:function(t){this.current=t,this.status=Number(t),this.init()}}};e.default=s}).call(this,i("0de9")["log"])}}]);